
Adafruit_Python_PureIO/Adafruit_PureIO/smbus.py
- I2C_M_* flags, I2C_SLAVE... ioctl codes
- i2c_msg, i2c_rdwr_ioctl_data structs
- make_i2c_rdwr_data(msgs):
  - create i2c_rdwr_ioctl_data with i2c_msg[] from (addr, flags, len, buf) message arrays
- SMBus:
  - open /dev/i2c-n r+b (reqd, update, binary)
  - _select_device(addr): ioctl I2C_SLAVE, addr & 0x7f
  - read_bytes(addr, n): read n bytes; for read_byte, n=1
    - _select_device(add)
    - read(fd, n)
  - read_byte_data(addr, cmd): write byte then read byte
    - request = make_i2c_rdwr_data with 2 messages
    - msg1 = addr, 0, 1, &cmd (write 1 byte cmd)
    - msg2 = addr, I2C_M_RD, 1, &result (read 1 byte result)
    - ioctl I2C_RDWR